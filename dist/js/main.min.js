window.addEventListener("DOMContentLoaded",(()=>{chooseButtons[0].classList.add("active"),buttonTrans[0].classList.add("active"),transports[0].style.display="block",choosePath[0].style.display="flex"}));const buttonsModal=document.querySelectorAll(".button-modal"),modal=document.querySelector(".modal"),body=document.body,chooseButtons=document.querySelectorAll(".button-choose"),buttonTrans=document.querySelectorAll(".button-transport"),transports=document.querySelectorAll(".form__transports"),choosePath=document.querySelectorAll(".form__choose-path");buttonsModal.forEach((e=>{e.addEventListener("click",(()=>{modal.style.display="block",body.classList.add("locked")}))})),chooseButtons.forEach(((e,t)=>{e.addEventListener("click",(()=>{chooseButtons.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),transports.forEach((e=>e.style.display="none")),transports[t].style.display="block"}))})),buttonTrans.forEach(((e,t)=>{e.addEventListener("click",(()=>{buttonTrans.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),choosePath.forEach((e=>e.style.display="none")),choosePath[t].style.display="flex"}))}));const customSelect=document.querySelectorAll(".form__autocomplete"),btnSelect=document.querySelectorAll(".form__select-btn"),btnSelectImg=document.querySelectorAll(".form__arrow");btnSelect.forEach(((e,t)=>{e.addEventListener("click",(()=>{"block"===customSelect[t].style.display?(btnSelectImg[t].style.transform="rotate(0deg)",customSelect[t].style.display="none"):(btnSelectImg[t].style.transform="rotate(180deg)",customSelect[t].style.display="block")}))}));const items=document.querySelectorAll(".form__list-item");items.forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".form__select").querySelector(".form__input");e.value=this.textContent,customSelect.forEach((e=>{e.style.display="none"})),btnSelectImg.forEach(((e,t)=>{e.style.transform="rotate(0deg)"})),e.style.border="1px solid #227AFF"}))}));const currentTab=0;function showTab(e){let t=document.getElementsByClassName("form__tab");t[e].style.display="flex",document.getElementById("prevBtn").style.display=0==e?"none":"inline",e==t.length-1?document.getElementById("nextBtn").innerHTML="Завершить регистрацию":document.getElementById("nextBtn").innerHTML="Далее",fixStepIndicator(e)}function fixStepIndicator(e){let t,o=document.getElementsByClassName("modal__popup-span");for(t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");o[e].className+=" active"}function nextPrev(e){let t=document.getElementsByClassName("form__tab");return!(1==e&&!validateForm())&&(t[currentTab].style.display="none",currentTab+=e,currentTab>=t.length?(document.getElementById("regForm").submit(),!1):void showTab(currentTab))}function validateForm(){let e,t,o,s=!0;for(e=document.getElementsByClassName("form__tab"),t=e[currentTab].getElementsByTagName("input"),o=0;o<t.length;o++)""==t[o].value&&(t[o].className+=" invalid",s=!1);return s&&(document.getElementsByClassName("modal__popup-span")[currentTab].className+=" active"),s}showTab(currentTab);